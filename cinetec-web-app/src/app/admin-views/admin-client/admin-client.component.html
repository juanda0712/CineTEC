<div class="container mt-4">
  <h2>Gestionar Clientes</h2>
  <hr />

  <!-- Formulario para crear/editar clientes -->
  <form [formGroup]="clientForm" (ngSubmit)="save()">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="cedula">Cédula:</label>
          <input
            type="text"
            id="cedula"
            class="form-control"
            formControlName="cedula"
            [readonly]="editMode"
          />
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input
            type="text"
            id="nombre"
            class="form-control"
            formControlName="nombre"
            required
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="fechaNacimiento">Fecha de Nacimiento:</label>
          <input
            type="date"
            id="fechaNacimiento"
            class="form-control"
            formControlName="fechaNacimiento"
            required
          />
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="telefono">Teléfono:</label>
          <input
            type="text"
            id="telefono"
            class="form-control"
            formControlName="telefono"
            required
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="correo">Correo Electrónico:</label>
          <input
            type="email"
            id="correo"
            class="form-control"
            formControlName="correo"
            required
          />
        </div>
      </div>
    </div>
    <div class="form-group">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!clientForm.valid"
      >
        {{ editMode ? "Editar" : "Guardar" }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="createNew()">
        Cancelar
      </button>
      <button type="button" class="btn btn-secondary" (click)="returnBack()">
        Atrás
      </button>
    </div>
  </form>

  <!-- Lista de clientes -->
  <table class="table mt-4">
    <thead>
      <tr>
        <th>Cédula</th>
        <th>Nombre</th>
        <th>Fecha de Nacimiento</th>
        <th>Teléfono</th>
        <th>Correo Electrónico</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let client of clientList">
        <td>{{ client.cedula }}</td>
        <td>{{ client.nombre }}</td>
        <td>{{ client.fechaNacimiento | date }}</td>
        <td>{{ client.telefono }}</td>
        <td>{{ client.correo }}</td>
        <td>
          <button class="btn btn-sm btn-info" (click)="edit(client)">
            Editar
          </button>
          <button class="btn btn-sm btn-danger" (click)="deleteEntity(client)">
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
